# ZeroClaw — Mattermost Hub Configuration Template (single-process, 6 bots)
#
# All 6 ATLA bots run in a single ZeroClaw process.
# Each [[channels_config.mattermost_bots]] entry spawns one MattermostChannel
# instance with its own bot token. They share the Ollama provider and SQLite memory.
#
# Usage:
#   cp config/config.mattermost.example.toml config/config.mattermost.toml
#   # fill in bot tokens from .envrc.mattermost
#   source .envrc.mattermost
#   zeroclaw start --config config/config.mattermost.toml
#
# Bot tokens are in .envrc.mattermost (gitignored). Load with:
#   source .envrc.mattermost
#
# Architecture:
#   One ZeroClaw process — six MattermostChannel instances (one per bot token).
#   The bot token IS the identity: Mattermost routes @mentions to the right account.
#   Shared: Ollama (LLM), SQLite memory backend.
#   See docs/planning/spike-mattermost-hub.md for full design.
# ─────────────────────────────────────────────────────────────────

# ── Shared Provider (Ollama) ──────────────────────────────────────
default_provider = "ollama"
default_model = "qwen3:14b"
api_key = "http://localhost:11434"
default_temperature = 0.5

# ── Shared Memory ─────────────────────────────────────────────────
[memory]
backend = "sqlite"
# All bots share one SQLite file for cross-bot context
sqlite_path = "~/.zeroclaw/mattermost-hub.db"

# ── Disable CLI (headless multi-bot mode) ─────────────────────────
[channels_config]
cli = false

# ═══════════════════════════════════════════════════════════════════
# BOT: @sokka — PM (Linear, standups, backlog)
# Temperature: 0.1  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_SOKKA
bot_token = "REPLACE_WITH_MM_TOKEN_SOKKA"
allowed_users = ["*"]
thread_replies = true
mention_only = true

# ═══════════════════════════════════════════════════════════════════
# BOT: @toph — DevOps (shell, deployments, infra)
# Temperature: 0.3  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_TOPH
bot_token = "REPLACE_WITH_MM_TOKEN_TOPH"
allowed_users = ["*"]
thread_replies = true
mention_only = true

# ═══════════════════════════════════════════════════════════════════
# BOT: @azula — Security (code review, scanning, audit)
# Temperature: 0.1  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_AZULA
bot_token = "REPLACE_WITH_MM_TOKEN_AZULA"
allowed_users = ["*"]
thread_replies = true
mention_only = true

# ═══════════════════════════════════════════════════════════════════
# BOT: @iroh — Creative (ideation, architecture)
# Temperature: 0.8  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_IROH
bot_token = "REPLACE_WITH_MM_TOKEN_IROH"
allowed_users = ["*"]
thread_replies = true
mention_only = true

# ═══════════════════════════════════════════════════════════════════
# BOT: @katara — Dev (code, debugging, PR review)
# Temperature: 0.3  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_KATARA
bot_token = "REPLACE_WITH_MM_TOKEN_KATARA"
allowed_users = ["*"]
thread_replies = true
mention_only = true

# ═══════════════════════════════════════════════════════════════════
# BOT: @aang — Coordinator (delegate, big picture)
# Temperature: 0.5  |  mention_only: true
# ═══════════════════════════════════════════════════════════════════
[[channels_config.mattermost_bots]]
url = "http://localhost:8065"
# Token from: echo $MM_TOKEN_AANG
bot_token = "REPLACE_WITH_MM_TOKEN_AANG"
allowed_users = ["*"]
thread_replies = true
mention_only = true
